# -*- coding: utf-8 -*-
# snapshottest: v1 - https://goo.gl/zC4yUc
from __future__ import unicode_literals

from snapshottest import Snapshot


snapshots = Snapshot()

snapshots['WorkflowTest::test_api 1'] = {
    'data': {
        'approvalWorkflowList': {
            'edges': [
                {
                    'node': {
                        'approvalGraph': '{"nodes": [{"id": 1, "stateId": 1, "name": "New", "type": "junction", "stateName": "New", "active": true, "initial": true, "variables": []}, {"id": 2, "stateId": 2, "name": "Step 0 Approved", "type": "junction", "stateName": "Step 0 Approved", "active": true, "initial": false, "variables": []}, {"id": 18, "stateId": 3, "name": "Approval Step 0 0", "type": "approval", "stateName": "Submitted for Step 0 Approval", "active": true, "initial": false, "variables": [{"id": 1, "name": "Approval Step 0 0"}]}, {"id": 4, "stateId": 4, "name": "Step 1 Approved", "type": "junction", "stateName": "Step 1 Approved", "active": true, "initial": false, "variables": []}, {"id": 19, "stateId": 5, "name": "Approval Step 1 0", "type": "approval", "stateName": "Submitted for Step 1 Approval", "active": true, "initial": false, "variables": [{"id": 2, "name": "Approval Step 1 0"}]}, {"id": 6, "stateId": 6, "name": "Approved 2", "type": "junction", "stateName": "Approved 2", "active": true, "initial": false, "variables": [{"id": 4, "name": "approved"}]}, {"id": 20, "stateId": 7, "name": "Approval Step 2 0", "type": "approval", "stateName": "Submitted for Step 2 Approval", "active": true, "initial": false, "variables": [{"id": 3, "name": "Approval Step 2 0"}]}, {"id": 8, "stateId": 8, "name": "Archived", "type": "end", "stateName": "Archived", "active": false, "initial": false, "variables": [{"id": 5, "name": "archived"}]}, {"id": 9, "stateId": 9, "name": "Pre Approved", "type": "junction", "stateName": "Pre Approved", "active": true, "initial": false, "variables": []}, {"id": 21, "stateId": 10, "name": "Approval Pre 0", "type": "approval", "stateName": "Submitted for Pre Approval", "active": true, "initial": false, "variables": [{"id": 6, "name": "Approval Pre 0"}, {"id": 7, "name": "Approval Pre 1"}, {"id": 8, "name": "Approval Pre 2"}, {"id": 9, "name": "Approval Pre 3"}]}, {"id": 22, "stateId": 10, "name": "Approval Pre 1", "type": "approval", "stateName": "Submitted for Pre Approval", "active": true, "initial": false, "variables": [{"id": 6, "name": "Approval Pre 0"}, {"id": 7, "name": "Approval Pre 1"}, {"id": 8, "name": "Approval Pre 2"}, {"id": 9, "name": "Approval Pre 3"}]}, {"id": 23, "stateId": 10, "name": "Approval Pre 2", "type": "approval", "stateName": "Submitted for Pre Approval", "active": true, "initial": false, "variables": [{"id": 6, "name": "Approval Pre 0"}, {"id": 7, "name": "Approval Pre 1"}, {"id": 8, "name": "Approval Pre 2"}, {"id": 9, "name": "Approval Pre 3"}]}, {"id": 24, "stateId": 10, "name": "Approval Pre 3", "type": "approval", "stateName": "Submitted for Pre Approval", "active": true, "initial": false, "variables": [{"id": 6, "name": "Approval Pre 0"}, {"id": 7, "name": "Approval Pre 1"}, {"id": 8, "name": "Approval Pre 2"}, {"id": 9, "name": "Approval Pre 3"}]}], "links": [{"id": 38, "transitionId": 1, "name": "Set In Approval Step 0", "label": null, "initialState": 1, "finalState": 3, "source": 1, "target": 18, "conditions": [], "callbacks": []}, {"id": 39, "transition_id": 4, "approval_transition_id": 2, "name": "Approve-1-3bbaec8e498624f58a22955c11bd0ecaf", "label": "Approve", "initialState": 3, "finalState": 2, "source": 18, "target": 2, "approvalConditions": [{"id": 1, "type": "and", "functions": [], "sub_conditions": [{"id": 2, "type": "function", "functions": [{"module": "simple_approval.conditions", "name": "is_approver", "parameters": [{"id": 1, "name": "user_ids", "value": "[1, 2]", "function": 1, "workflow": 1}, {"id": 2, "name": "roles", "value": "[]", "function": 1, "workflow": 1}]}], "sub_conditions": []}, {"id": 3, "type": "function", "functions": [{"module": "simple_approval.conditions", "name": "is_not_approved", "parameters": []}], "sub_conditions": []}]}], "approvalCallbacks": [{"module": "simple_approval.callbacks", "name": "on_approval", "parameters": [{"id": 1, "name": "variable_name", "value": "Approval Step 0 0"}]}], "conditions": [{"id": 7, "type": "function", "functions": [{"module": "simple_approval.conditions", "name": "all_approvals_collected", "parameters": []}], "sub_conditions": []}], "callbacks": []}, {"id": 40, "transitionId": 5, "name": "Set In Approval Step 1", "label": null, "initialState": 2, "finalState": 5, "source": 2, "target": 19, "conditions": [], "callbacks": []}, {"id": 41, "transition_id": 8, "approval_transition_id": 6, "name": "Approve-1-5740eb121c3b047de8218f6feb409bd3b", "label": "Approve", "initialState": 5, "finalState": 4, "source": 19, "target": 4, "approvalConditions": [{"id": 8, "type": "and", "functions": [], "sub_conditions": [{"id": 9, "type": "function", "functions": [{"module": "simple_approval.conditions", "name": "is_approver", "parameters": [{"id": 5, "name": "user_ids", "value": "[1, 2]", "function": 6, "workflow": 1}, {"id": 6, "name": "roles", "value": "[]", "function": 6, "workflow": 1}]}], "sub_conditions": []}, {"id": 10, "type": "function", "functions": [{"module": "simple_approval.conditions", "name": "is_not_approved", "parameters": []}], "sub_conditions": []}]}], "approvalCallbacks": [{"module": "simple_approval.callbacks", "name": "on_approval", "parameters": [{"id": 2, "name": "variable_name", "value": "Approval Step 1 0"}]}], "conditions": [{"id": 14, "type": "function", "functions": [{"module": "simple_approval.conditions", "name": "all_approvals_collected", "parameters": []}], "sub_conditions": []}], "callbacks": []}, {"id": 42, "transitionId": 9, "name": "Set In Approval Step 2", "label": null, "initialState": 9, "finalState": 7, "source": 9, "target": 20, "conditions": [], "callbacks": []}, {"id": 43, "transition_id": 12, "approval_transition_id": 10, "name": "Approve-1-766dd44199f5d437a951f31d10e572756", "label": "Approve", "initialState": 7, "finalState": 6, "source": 20, "target": 6, "approvalConditions": [{"id": 15, "type": "and", "functions": [], "sub_conditions": [{"id": 16, "type": "function", "functions": [{"module": "simple_approval.conditions", "name": "is_approver", "parameters": [{"id": 9, "name": "user_ids", "value": "[1, 2]", "function": 11, "workflow": 1}, {"id": 10, "name": "roles", "value": "[]", "function": 11, "workflow": 1}]}], "sub_conditions": []}, {"id": 17, "type": "function", "functions": [{"module": "simple_approval.conditions", "name": "is_not_approved", "parameters": []}], "sub_conditions": []}]}], "approvalCallbacks": [{"module": "simple_approval.callbacks", "name": "on_approval", "parameters": [{"id": 3, "name": "variable_name", "value": "Approval Step 2 0"}]}], "conditions": [{"id": 21, "type": "function", "functions": [{"module": "simple_approval.conditions", "name": "all_approvals_collected", "parameters": []}], "sub_conditions": []}], "callbacks": []}, {"id": 44, "transitionId": 13, "name": "Archive", "label": null, "initialState": 6, "finalState": 8, "source": 6, "target": 8, "conditions": [], "callbacks": []}, {"id": 44, "transitionId": 14, "name": "Set In Approval Pre", "label": null, "initialState": 4, "finalState": 10, "source": 4, "target": 21, "conditions": [], "callbacks": []}, {"id": 45, "transition_id": 23, "approval_transition_id": 15, "name": "Approve-1-10953fed073ff24e0e860e8d7d1cf0e84e", "label": "Approve", "initialState": 10, "finalState": 9, "source": 21, "target": 9, "approvalConditions": [{"id": 22, "type": "and", "functions": [], "sub_conditions": [{"id": 23, "type": "function", "functions": [{"module": "simple_approval.conditions", "name": "is_approver", "parameters": [{"id": 13, "name": "user_ids", "value": "[1, 2, 3]", "function": 16, "workflow": 1}, {"id": 14, "name": "roles", "value": "[]", "function": 16, "workflow": 1}]}], "sub_conditions": []}, {"id": 24, "type": "function", "functions": [{"module": "simple_approval.conditions", "name": "is_not_approved", "parameters": []}], "sub_conditions": []}]}], "approvalCallbacks": [{"module": "simple_approval.callbacks", "name": "on_approval", "parameters": [{"id": 4, "name": "variable_name", "value": "Approval Pre 0"}]}], "conditions": [{"id": 46, "type": "function", "functions": [{"module": "simple_approval.conditions", "name": "all_approvals_collected", "parameters": []}], "sub_conditions": []}], "callbacks": []}, {"id": 46, "transitionId": 14, "name": "Set In Approval Pre", "label": null, "initialState": 4, "finalState": 10, "source": 4, "target": 22, "conditions": [], "callbacks": []}, {"id": 47, "transition_id": 23, "approval_transition_id": 17, "name": "Approve-1-109c359c77eaa14f6b8fe69f70cdd490e5", "label": "Approve", "initialState": 10, "finalState": 9, "source": 22, "target": 9, "approvalConditions": [{"id": 28, "type": "and", "functions": [], "sub_conditions": [{"id": 29, "type": "function", "functions": [{"module": "simple_approval.conditions", "name": "is_approver", "parameters": [{"id": 17, "name": "user_ids", "value": "[1]", "function": 20, "workflow": 1}, {"id": 18, "name": "roles", "value": "[]", "function": 20, "workflow": 1}]}], "sub_conditions": []}, {"id": 30, "type": "function", "functions": [{"module": "simple_approval.conditions", "name": "is_not_approved", "parameters": []}], "sub_conditions": []}]}], "approvalCallbacks": [{"module": "simple_approval.callbacks", "name": "on_approval", "parameters": [{"id": 5, "name": "variable_name", "value": "Approval Pre 1"}]}], "conditions": [{"id": 46, "type": "function", "functions": [{"module": "simple_approval.conditions", "name": "all_approvals_collected", "parameters": []}], "sub_conditions": []}], "callbacks": []}, {"id": 48, "transitionId": 14, "name": "Set In Approval Pre", "label": null, "initialState": 4, "finalState": 10, "source": 4, "target": 23, "conditions": [], "callbacks": []}, {"id": 49, "transition_id": 23, "approval_transition_id": 19, "name": "Approve-1-109889b101530f4caf91bb86c1d5cd37f2", "label": "Approve", "initialState": 10, "finalState": 9, "source": 23, "target": 9, "approvalConditions": [{"id": 34, "type": "and", "functions": [], "sub_conditions": [{"id": 35, "type": "function", "functions": [{"module": "simple_approval.conditions", "name": "is_approver", "parameters": [{"id": 21, "name": "user_ids", "value": "[2, 3]", "function": 24, "workflow": 1}, {"id": 22, "name": "roles", "value": "[]", "function": 24, "workflow": 1}]}], "sub_conditions": []}, {"id": 36, "type": "function", "functions": [{"module": "simple_approval.conditions", "name": "is_not_approved", "parameters": []}], "sub_conditions": []}]}], "approvalCallbacks": [{"module": "simple_approval.callbacks", "name": "on_approval", "parameters": [{"id": 6, "name": "variable_name", "value": "Approval Pre 2"}]}], "conditions": [{"id": 46, "type": "function", "functions": [{"module": "simple_approval.conditions", "name": "all_approvals_collected", "parameters": []}], "sub_conditions": []}], "callbacks": []}, {"id": 50, "transitionId": 14, "name": "Set In Approval Pre", "label": null, "initialState": 4, "finalState": 10, "source": 4, "target": 24, "conditions": [], "callbacks": []}, {"id": 51, "transition_id": 23, "approval_transition_id": 21, "name": "Approve-1-105c5d690818a64906aa07e5c0fb9cd7c8", "label": "Approve", "initialState": 10, "finalState": 9, "source": 24, "target": 9, "approvalConditions": [{"id": 40, "type": "and", "functions": [], "sub_conditions": [{"id": 41, "type": "function", "functions": [{"module": "simple_approval.conditions", "name": "is_approver", "parameters": [{"id": 25, "name": "user_ids", "value": "[2, 3]", "function": 28, "workflow": 1}, {"id": 26, "name": "roles", "value": "[]", "function": 28, "workflow": 1}]}], "sub_conditions": []}, {"id": 42, "type": "function", "functions": [{"module": "simple_approval.conditions", "name": "is_not_approved", "parameters": []}], "sub_conditions": []}]}], "approvalCallbacks": [{"module": "simple_approval.callbacks", "name": "on_approval", "parameters": [{"id": 7, "name": "variable_name", "value": "Approval Pre 3"}]}], "conditions": [{"id": 46, "type": "function", "functions": [{"module": "simple_approval.conditions", "name": "all_approvals_collected", "parameters": []}], "sub_conditions": []}], "callbacks": []}]}',
                        'id': 'QXBwcm92YWxXb3JrZmxvd05vZGU6MQ==',
                        'name': 'Test_Workflow'
                    }
                }
            ]
        }
    }
}

snapshots['WorkflowTest::test_modify_workflow 1'] = {
    'data': {
        'approvalWorkflowList': {
            'edges': [
                {
                    'node': {
                        'approvalGraph': '{"nodes": [{"id": 1, "stateId": 1, "name": "New", "type": "junction", "stateName": "New", "active": true, "initial": true, "variables": []}, {"id": 2, "stateId": 2, "name": "Step 0 Approved", "type": "junction", "stateName": "Step 0 Approved", "active": true, "initial": false, "variables": []}, {"id": 18, "stateId": 3, "name": "Approval Step 0 0", "type": "approval", "stateName": "Submitted for Step 0 Approval", "active": true, "initial": false, "variables": [{"id": 1, "name": "Approval Step 0 0"}]}, {"id": 4, "stateId": 4, "name": "Step 1 Approved", "type": "junction", "stateName": "Step 1 Approved", "active": true, "initial": false, "variables": []}, {"id": 19, "stateId": 5, "name": "Approval Step 1 0", "type": "approval", "stateName": "Submitted for Step 1 Approval", "active": true, "initial": false, "variables": [{"id": 2, "name": "Approval Step 1 0"}]}, {"id": 6, "stateId": 6, "name": "Approved 2", "type": "junction", "stateName": "Approved 2", "active": true, "initial": false, "variables": [{"id": 4, "name": "approved"}]}, {"id": 20, "stateId": 7, "name": "Approval Step 2 0", "type": "approval", "stateName": "Submitted for Step 2 Approval", "active": true, "initial": false, "variables": [{"id": 3, "name": "Approval Step 2 0"}]}, {"id": 8, "stateId": 8, "name": "Archived", "type": "end", "stateName": "Archived", "active": false, "initial": false, "variables": [{"id": 5, "name": "archived"}]}, {"id": 9, "stateId": 9, "name": "Pre Approved", "type": "junction", "stateName": "Pre Approved", "active": true, "initial": false, "variables": []}, {"id": 21, "stateId": 10, "name": "Approval Pre 0", "type": "approval", "stateName": "Submitted for Pre Approval", "active": true, "initial": false, "variables": [{"id": 6, "name": "Approval Pre 0"}, {"id": 7, "name": "Approval Pre 1"}, {"id": 8, "name": "Approval Pre 2"}, {"id": 9, "name": "Approval Pre 3"}]}, {"id": 22, "stateId": 10, "name": "Approval Pre 1", "type": "approval", "stateName": "Submitted for Pre Approval", "active": true, "initial": false, "variables": [{"id": 6, "name": "Approval Pre 0"}, {"id": 7, "name": "Approval Pre 1"}, {"id": 8, "name": "Approval Pre 2"}, {"id": 9, "name": "Approval Pre 3"}]}, {"id": 23, "stateId": 10, "name": "Approval Pre 2", "type": "approval", "stateName": "Submitted for Pre Approval", "active": true, "initial": false, "variables": [{"id": 6, "name": "Approval Pre 0"}, {"id": 7, "name": "Approval Pre 1"}, {"id": 8, "name": "Approval Pre 2"}, {"id": 9, "name": "Approval Pre 3"}]}, {"id": 24, "stateId": 10, "name": "Approval Pre 3", "type": "approval", "stateName": "Submitted for Pre Approval", "active": true, "initial": false, "variables": [{"id": 6, "name": "Approval Pre 0"}, {"id": 7, "name": "Approval Pre 1"}, {"id": 8, "name": "Approval Pre 2"}, {"id": 9, "name": "Approval Pre 3"}]}], "links": [{"id": 38, "transitionId": 1, "name": "Set In Approval Step 0", "label": null, "initialState": 1, "finalState": 3, "source": 1, "target": 18, "conditions": [], "callbacks": []}, {"id": 39, "transition_id": 4, "approval_transition_id": 2, "name": "Approve-1-3cb87c8d3b7ed4d11941dc31cd0ae0831", "label": "Approve", "initialState": 3, "finalState": 2, "source": 18, "target": 2, "approvalConditions": [{"id": 1, "type": "and", "functions": [], "sub_conditions": [{"id": 2, "type": "function", "functions": [{"module": "simple_approval.conditions", "name": "is_approver", "parameters": [{"id": 1, "name": "user_ids", "value": "[1, 2]", "function": 1, "workflow": 1}, {"id": 2, "name": "roles", "value": "[]", "function": 1, "workflow": 1}]}], "sub_conditions": []}, {"id": 3, "type": "function", "functions": [{"module": "simple_approval.conditions", "name": "is_not_approved", "parameters": []}], "sub_conditions": []}]}], "approvalCallbacks": [{"module": "simple_approval.callbacks", "name": "on_approval", "parameters": [{"id": 1, "name": "variable_name", "value": "Approval Step 0 0"}]}], "conditions": [{"id": 7, "type": "function", "functions": [{"module": "simple_approval.conditions", "name": "all_approvals_collected", "parameters": []}], "sub_conditions": []}], "callbacks": []}, {"id": 40, "transitionId": 5, "name": "Set In Approval Step 1", "label": null, "initialState": 2, "finalState": 5, "source": 2, "target": 19, "conditions": [], "callbacks": []}, {"id": 41, "transition_id": 8, "approval_transition_id": 6, "name": "Approve-1-5845d55a2dd7843fbab4b8753792ecbbc", "label": "Approve", "initialState": 5, "finalState": 4, "source": 19, "target": 4, "approvalConditions": [{"id": 8, "type": "and", "functions": [], "sub_conditions": [{"id": 9, "type": "function", "functions": [{"module": "simple_approval.conditions", "name": "is_approver", "parameters": [{"id": 5, "name": "user_ids", "value": "[1, 2]", "function": 6, "workflow": 1}, {"id": 6, "name": "roles", "value": "[]", "function": 6, "workflow": 1}]}], "sub_conditions": []}, {"id": 10, "type": "function", "functions": [{"module": "simple_approval.conditions", "name": "is_not_approved", "parameters": []}], "sub_conditions": []}]}], "approvalCallbacks": [{"module": "simple_approval.callbacks", "name": "on_approval", "parameters": [{"id": 2, "name": "variable_name", "value": "Approval Step 1 0"}]}], "conditions": [{"id": 14, "type": "function", "functions": [{"module": "simple_approval.conditions", "name": "all_approvals_collected", "parameters": []}], "sub_conditions": []}], "callbacks": []}, {"id": 42, "transitionId": 9, "name": "Set In Approval Step 2", "label": null, "initialState": 9, "finalState": 7, "source": 9, "target": 20, "conditions": [], "callbacks": []}, {"id": 43, "transition_id": 12, "approval_transition_id": 10, "name": "Approve-1-746a3a7eac3e043b7ba5f16260f579f13", "label": "Approve", "initialState": 7, "finalState": 6, "source": 20, "target": 6, "approvalConditions": [{"id": 15, "type": "and", "functions": [], "sub_conditions": [{"id": 16, "type": "function", "functions": [{"module": "simple_approval.conditions", "name": "is_approver", "parameters": [{"id": 9, "name": "user_ids", "value": "[1, 2]", "function": 11, "workflow": 1}, {"id": 10, "name": "roles", "value": "[]", "function": 11, "workflow": 1}]}], "sub_conditions": []}, {"id": 17, "type": "function", "functions": [{"module": "simple_approval.conditions", "name": "is_not_approved", "parameters": []}], "sub_conditions": []}]}], "approvalCallbacks": [{"module": "simple_approval.callbacks", "name": "on_approval", "parameters": [{"id": 3, "name": "variable_name", "value": "Approval Step 2 0"}]}], "conditions": [{"id": 21, "type": "function", "functions": [{"module": "simple_approval.conditions", "name": "all_approvals_collected", "parameters": []}], "sub_conditions": []}], "callbacks": []}, {"id": 44, "transitionId": 13, "name": "Archive", "label": null, "initialState": 6, "finalState": 8, "source": 6, "target": 8, "conditions": [], "callbacks": []}, {"id": 44, "transitionId": 14, "name": "Set In Approval Pre", "label": null, "initialState": 4, "finalState": 10, "source": 4, "target": 21, "conditions": [], "callbacks": []}, {"id": 45, "transition_id": 23, "approval_transition_id": 15, "name": "Approve-1-10658e1f875f31478d98c1078bcd48363b", "label": "Approve", "initialState": 10, "finalState": 9, "source": 21, "target": 9, "approvalConditions": [{"id": 22, "type": "and", "functions": [], "sub_conditions": [{"id": 23, "type": "function", "functions": [{"module": "simple_approval.conditions", "name": "is_approver", "parameters": [{"id": 13, "name": "user_ids", "value": "[1, 2, 3]", "function": 16, "workflow": 1}, {"id": 14, "name": "roles", "value": "[]", "function": 16, "workflow": 1}]}], "sub_conditions": []}, {"id": 24, "type": "function", "functions": [{"module": "simple_approval.conditions", "name": "is_not_approved", "parameters": []}], "sub_conditions": []}]}], "approvalCallbacks": [{"module": "simple_approval.callbacks", "name": "on_approval", "parameters": [{"id": 4, "name": "variable_name", "value": "Approval Pre 0"}]}], "conditions": [{"id": 46, "type": "function", "functions": [{"module": "simple_approval.conditions", "name": "all_approvals_collected", "parameters": []}], "sub_conditions": []}], "callbacks": []}, {"id": 46, "transitionId": 14, "name": "Set In Approval Pre", "label": null, "initialState": 4, "finalState": 10, "source": 4, "target": 22, "conditions": [], "callbacks": []}, {"id": 47, "transition_id": 23, "approval_transition_id": 17, "name": "Approve-1-10a94d54b8f6a54dc99285f3e61f7c3fc6", "label": "Approve", "initialState": 10, "finalState": 9, "source": 22, "target": 9, "approvalConditions": [{"id": 28, "type": "and", "functions": [], "sub_conditions": [{"id": 29, "type": "function", "functions": [{"module": "simple_approval.conditions", "name": "is_approver", "parameters": [{"id": 17, "name": "user_ids", "value": "[1]", "function": 20, "workflow": 1}, {"id": 18, "name": "roles", "value": "[]", "function": 20, "workflow": 1}]}], "sub_conditions": []}, {"id": 30, "type": "function", "functions": [{"module": "simple_approval.conditions", "name": "is_not_approved", "parameters": []}], "sub_conditions": []}]}], "approvalCallbacks": [{"module": "simple_approval.callbacks", "name": "on_approval", "parameters": [{"id": 5, "name": "variable_name", "value": "Approval Pre 1"}]}], "conditions": [{"id": 46, "type": "function", "functions": [{"module": "simple_approval.conditions", "name": "all_approvals_collected", "parameters": []}], "sub_conditions": []}], "callbacks": []}, {"id": 48, "transitionId": 14, "name": "Set In Approval Pre", "label": null, "initialState": 4, "finalState": 10, "source": 4, "target": 23, "conditions": [], "callbacks": []}, {"id": 49, "transition_id": 23, "approval_transition_id": 19, "name": "Approve-1-10a2338dcfb937424a90ea3124c461b886", "label": "Approve", "initialState": 10, "finalState": 9, "source": 23, "target": 9, "approvalConditions": [{"id": 34, "type": "and", "functions": [], "sub_conditions": [{"id": 35, "type": "function", "functions": [{"module": "simple_approval.conditions", "name": "is_approver", "parameters": [{"id": 21, "name": "user_ids", "value": "[2, 3]", "function": 24, "workflow": 1}, {"id": 22, "name": "roles", "value": "[]", "function": 24, "workflow": 1}]}], "sub_conditions": []}, {"id": 36, "type": "function", "functions": [{"module": "simple_approval.conditions", "name": "is_not_approved", "parameters": []}], "sub_conditions": []}]}], "approvalCallbacks": [{"module": "simple_approval.callbacks", "name": "on_approval", "parameters": [{"id": 6, "name": "variable_name", "value": "Approval Pre 2"}]}], "conditions": [{"id": 46, "type": "function", "functions": [{"module": "simple_approval.conditions", "name": "all_approvals_collected", "parameters": []}], "sub_conditions": []}], "callbacks": []}, {"id": 50, "transitionId": 14, "name": "Set In Approval Pre", "label": null, "initialState": 4, "finalState": 10, "source": 4, "target": 24, "conditions": [], "callbacks": []}, {"id": 51, "transition_id": 23, "approval_transition_id": 21, "name": "Approve-1-106cd926a593e744429a1ff53d7a2b2621", "label": "Approve", "initialState": 10, "finalState": 9, "source": 24, "target": 9, "approvalConditions": [{"id": 40, "type": "and", "functions": [], "sub_conditions": [{"id": 41, "type": "function", "functions": [{"module": "simple_approval.conditions", "name": "is_approver", "parameters": [{"id": 25, "name": "user_ids", "value": "[2, 3]", "function": 28, "workflow": 1}, {"id": 26, "name": "roles", "value": "[]", "function": 28, "workflow": 1}]}], "sub_conditions": []}, {"id": 42, "type": "function", "functions": [{"module": "simple_approval.conditions", "name": "is_not_approved", "parameters": []}], "sub_conditions": []}]}], "approvalCallbacks": [{"module": "simple_approval.callbacks", "name": "on_approval", "parameters": [{"id": 7, "name": "variable_name", "value": "Approval Pre 3"}]}], "conditions": [{"id": 46, "type": "function", "functions": [{"module": "simple_approval.conditions", "name": "all_approvals_collected", "parameters": []}], "sub_conditions": []}], "callbacks": []}]}',
                        'id': 'QXBwcm92YWxXb3JrZmxvd05vZGU6MQ==',
                        'name': 'Test_Workflow'
                    }
                }
            ]
        }
    }
}

snapshots['WorkflowTest::test_modify_workflow 2'] = {
    'data': {
        'approvalWorkflowList': {
            'edges': [
                {
                    'node': {
                        'approvalGraph': '{"nodes": [{"id": 1, "stateId": 1, "name": "New", "type": "junction", "stateName": "New", "active": true, "initial": true, "variables": []}, {"id": 2, "stateId": 2, "name": "Step 0 Approved", "type": "junction", "stateName": "Step 0 Approved", "active": true, "initial": false, "variables": []}, {"id": 17, "stateId": 3, "name": "Approval Step 0 0", "type": "approval", "stateName": "Submitted for Step 0 Approval", "active": true, "initial": false, "variables": [{"id": 1, "name": "Approval Step 0 0"}]}, {"id": 4, "stateId": 4, "name": "Step 1 Approved", "type": "junction", "stateName": "Step 1 Approved", "active": true, "initial": false, "variables": []}, {"id": 18, "stateId": 5, "name": "Approval Step 1 0", "type": "approval", "stateName": "Submitted for Step 1 Approval", "active": true, "initial": false, "variables": [{"id": 2, "name": "Approval Step 1 0"}]}, {"id": 6, "stateId": 6, "name": "Approved 2", "type": "junction", "stateName": "Approved 2", "active": true, "initial": false, "variables": [{"id": 4, "name": "approved"}]}, {"id": 19, "stateId": 7, "name": "Approval Step 2 0", "type": "approval", "stateName": "Submitted for Step 2 Approval", "active": true, "initial": false, "variables": [{"id": 3, "name": "Approval Step 2 0"}]}, {"id": 8, "stateId": 8, "name": "Archived", "type": "end", "stateName": "Archived", "active": false, "initial": false, "variables": [{"id": 5, "name": "archived"}]}, {"id": 9, "stateId": 9, "name": "Pre Approved", "type": "junction", "stateName": "Pre Approved", "active": true, "initial": false, "variables": []}, {"id": 20, "stateId": 10, "name": "Approval Pre 1", "type": "approval", "stateName": "Submitted for Pre Approval", "active": true, "initial": false, "variables": [{"id": 7, "name": "Approval Pre 1"}, {"id": 8, "name": "Approval Pre 2"}, {"id": 9, "name": "Approval Pre 3"}]}, {"id": 21, "stateId": 10, "name": "Approval Pre 2", "type": "approval", "stateName": "Submitted for Pre Approval", "active": true, "initial": false, "variables": [{"id": 7, "name": "Approval Pre 1"}, {"id": 8, "name": "Approval Pre 2"}, {"id": 9, "name": "Approval Pre 3"}]}, {"id": 22, "stateId": 10, "name": "Approval Pre 3", "type": "approval", "stateName": "Submitted for Pre Approval", "active": true, "initial": false, "variables": [{"id": 7, "name": "Approval Pre 1"}, {"id": 8, "name": "Approval Pre 2"}, {"id": 9, "name": "Approval Pre 3"}]}], "links": [{"id": 36, "transitionId": 1, "name": "Set In Approval Step 0", "label": null, "initialState": 1, "finalState": 3, "source": 1, "target": 17, "conditions": [], "callbacks": []}, {"id": 37, "transition_id": 4, "approval_transition_id": 2, "name": "Approve-1-3cb87c8d3b7ed4d11941dc31cd0ae0831", "label": "Approve", "initialState": 3, "finalState": 2, "source": 17, "target": 2, "approvalConditions": [{"id": 1, "type": "and", "functions": [], "sub_conditions": [{"id": 2, "type": "function", "functions": [{"module": "simple_approval.conditions", "name": "is_approver", "parameters": [{"id": 1, "name": "user_ids", "value": "[1, 2]", "function": 1, "workflow": 1}, {"id": 2, "name": "roles", "value": "[]", "function": 1, "workflow": 1}]}], "sub_conditions": []}, {"id": 3, "type": "function", "functions": [{"module": "simple_approval.conditions", "name": "is_not_approved", "parameters": []}], "sub_conditions": []}]}], "approvalCallbacks": [{"module": "simple_approval.callbacks", "name": "on_approval", "parameters": [{"id": 1, "name": "variable_name", "value": "Approval Step 0 0"}]}], "conditions": [{"id": 7, "type": "function", "functions": [{"module": "simple_approval.conditions", "name": "all_approvals_collected", "parameters": []}], "sub_conditions": []}], "callbacks": []}, {"id": 38, "transitionId": 5, "name": "Set In Approval Step 1", "label": null, "initialState": 2, "finalState": 5, "source": 2, "target": 18, "conditions": [], "callbacks": []}, {"id": 39, "transition_id": 8, "approval_transition_id": 6, "name": "Approve-1-5845d55a2dd7843fbab4b8753792ecbbc", "label": "Approve", "initialState": 5, "finalState": 4, "source": 18, "target": 4, "approvalConditions": [{"id": 8, "type": "and", "functions": [], "sub_conditions": [{"id": 9, "type": "function", "functions": [{"module": "simple_approval.conditions", "name": "is_approver", "parameters": [{"id": 5, "name": "user_ids", "value": "[1, 2]", "function": 6, "workflow": 1}, {"id": 6, "name": "roles", "value": "[]", "function": 6, "workflow": 1}]}], "sub_conditions": []}, {"id": 10, "type": "function", "functions": [{"module": "simple_approval.conditions", "name": "is_not_approved", "parameters": []}], "sub_conditions": []}]}], "approvalCallbacks": [{"module": "simple_approval.callbacks", "name": "on_approval", "parameters": [{"id": 2, "name": "variable_name", "value": "Approval Step 1 0"}]}], "conditions": [{"id": 14, "type": "function", "functions": [{"module": "simple_approval.conditions", "name": "all_approvals_collected", "parameters": []}], "sub_conditions": []}], "callbacks": []}, {"id": 40, "transitionId": 9, "name": "Set In Approval Step 2", "label": null, "initialState": 9, "finalState": 7, "source": 9, "target": 19, "conditions": [], "callbacks": []}, {"id": 41, "transition_id": 12, "approval_transition_id": 10, "name": "Approve-1-746a3a7eac3e043b7ba5f16260f579f13", "label": "Approve", "initialState": 7, "finalState": 6, "source": 19, "target": 6, "approvalConditions": [{"id": 15, "type": "and", "functions": [], "sub_conditions": [{"id": 16, "type": "function", "functions": [{"module": "simple_approval.conditions", "name": "is_approver", "parameters": [{"id": 9, "name": "user_ids", "value": "[1, 2]", "function": 11, "workflow": 1}, {"id": 10, "name": "roles", "value": "[]", "function": 11, "workflow": 1}]}], "sub_conditions": []}, {"id": 17, "type": "function", "functions": [{"module": "simple_approval.conditions", "name": "is_not_approved", "parameters": []}], "sub_conditions": []}]}], "approvalCallbacks": [{"module": "simple_approval.callbacks", "name": "on_approval", "parameters": [{"id": 3, "name": "variable_name", "value": "Approval Step 2 0"}]}], "conditions": [{"id": 21, "type": "function", "functions": [{"module": "simple_approval.conditions", "name": "all_approvals_collected", "parameters": []}], "sub_conditions": []}], "callbacks": []}, {"id": 42, "transitionId": 13, "name": "Archive", "label": null, "initialState": 6, "finalState": 8, "source": 6, "target": 8, "conditions": [], "callbacks": []}, {"id": 42, "transitionId": 14, "name": "Set In Approval Pre", "label": null, "initialState": 4, "finalState": 10, "source": 4, "target": 20, "conditions": [], "callbacks": []}, {"id": 43, "transition_id": 23, "approval_transition_id": 17, "name": "Approve-1-10a94d54b8f6a54dc99285f3e61f7c3fc6", "label": "Approve", "initialState": 10, "finalState": 9, "source": 20, "target": 9, "approvalConditions": [{"id": 28, "type": "and", "functions": [], "sub_conditions": [{"id": 29, "type": "function", "functions": [{"module": "simple_approval.conditions", "name": "is_approver", "parameters": [{"id": 17, "name": "user_ids", "value": "[1]", "function": 20, "workflow": 1}, {"id": 18, "name": "roles", "value": "[]", "function": 20, "workflow": 1}]}], "sub_conditions": []}, {"id": 30, "type": "function", "functions": [{"module": "simple_approval.conditions", "name": "is_not_approved", "parameters": []}], "sub_conditions": []}]}], "approvalCallbacks": [{"module": "simple_approval.callbacks", "name": "on_approval", "parameters": [{"id": 5, "name": "variable_name", "value": "Approval Pre 1"}]}], "conditions": [{"id": 46, "type": "function", "functions": [{"module": "simple_approval.conditions", "name": "all_approvals_collected", "parameters": []}], "sub_conditions": []}], "callbacks": []}, {"id": 44, "transitionId": 14, "name": "Set In Approval Pre", "label": null, "initialState": 4, "finalState": 10, "source": 4, "target": 21, "conditions": [], "callbacks": []}, {"id": 45, "transition_id": 23, "approval_transition_id": 19, "name": "Approve-1-10a2338dcfb937424a90ea3124c461b886", "label": "Approve", "initialState": 10, "finalState": 9, "source": 21, "target": 9, "approvalConditions": [{"id": 34, "type": "and", "functions": [], "sub_conditions": [{"id": 35, "type": "function", "functions": [{"module": "simple_approval.conditions", "name": "is_approver", "parameters": [{"id": 21, "name": "user_ids", "value": "[2, 3]", "function": 24, "workflow": 1}, {"id": 22, "name": "roles", "value": "[]", "function": 24, "workflow": 1}]}], "sub_conditions": []}, {"id": 36, "type": "function", "functions": [{"module": "simple_approval.conditions", "name": "is_not_approved", "parameters": []}], "sub_conditions": []}]}], "approvalCallbacks": [{"module": "simple_approval.callbacks", "name": "on_approval", "parameters": [{"id": 6, "name": "variable_name", "value": "Approval Pre 2"}]}], "conditions": [{"id": 46, "type": "function", "functions": [{"module": "simple_approval.conditions", "name": "all_approvals_collected", "parameters": []}], "sub_conditions": []}], "callbacks": []}, {"id": 46, "transitionId": 14, "name": "Set In Approval Pre", "label": null, "initialState": 4, "finalState": 10, "source": 4, "target": 22, "conditions": [], "callbacks": []}, {"id": 47, "transition_id": 23, "approval_transition_id": 21, "name": "Approve-1-106cd926a593e744429a1ff53d7a2b2621", "label": "Approve", "initialState": 10, "finalState": 9, "source": 22, "target": 9, "approvalConditions": [{"id": 40, "type": "and", "functions": [], "sub_conditions": [{"id": 41, "type": "function", "functions": [{"module": "simple_approval.conditions", "name": "is_approver", "parameters": [{"id": 25, "name": "user_ids", "value": "[2, 3]", "function": 28, "workflow": 1}, {"id": 26, "name": "roles", "value": "[]", "function": 28, "workflow": 1}]}], "sub_conditions": []}, {"id": 42, "type": "function", "functions": [{"module": "simple_approval.conditions", "name": "is_not_approved", "parameters": []}], "sub_conditions": []}]}], "approvalCallbacks": [{"module": "simple_approval.callbacks", "name": "on_approval", "parameters": [{"id": 7, "name": "variable_name", "value": "Approval Pre 3"}]}], "conditions": [{"id": 46, "type": "function", "functions": [{"module": "simple_approval.conditions", "name": "all_approvals_collected", "parameters": []}], "sub_conditions": []}], "callbacks": []}]}',
                        'id': 'QXBwcm92YWxXb3JrZmxvd05vZGU6MQ==',
                        'name': 'Test_Workflow'
                    }
                }
            ]
        }
    }
}

snapshots['WorkflowTest::test_modify_workflow 3'] = {
    'data': {
        'approvalWorkflowList': {
            'edges': [
                {
                    'node': {
                        'approvalGraph': '{"nodes": [{"id": 1, "stateId": 1, "name": "New", "type": "junction", "stateName": "New", "active": true, "initial": true, "variables": []}, {"id": 2, "stateId": 2, "name": "Step 0 Approved", "type": "junction", "stateName": "Step 0 Approved", "active": true, "initial": false, "variables": []}, {"id": 12, "stateId": 3, "name": "Approval Step 0 0", "type": "approval", "stateName": "Submitted for Step 0 Approval", "active": true, "initial": false, "variables": [{"id": 1, "name": "Approval Step 0 0"}]}, {"id": 4, "stateId": 4, "name": "Step 1 Approved", "type": "junction", "stateName": "Step 1 Approved", "active": true, "initial": false, "variables": []}, {"id": 13, "stateId": 5, "name": "Approval Step 1 0", "type": "approval", "stateName": "Submitted for Step 1 Approval", "active": true, "initial": false, "variables": [{"id": 2, "name": "Approval Step 1 0"}]}, {"id": 6, "stateId": 6, "name": "Approved 2", "type": "junction", "stateName": "Approved 2", "active": true, "initial": false, "variables": [{"id": 4, "name": "approved"}]}, {"id": 14, "stateId": 7, "name": "Approval Step 2 0", "type": "approval", "stateName": "Submitted for Step 2 Approval", "active": true, "initial": false, "variables": [{"id": 3, "name": "Approval Step 2 0"}]}, {"id": 8, "stateId": 8, "name": "Archived", "type": "end", "stateName": "Archived", "active": false, "initial": false, "variables": [{"id": 5, "name": "archived"}]}], "links": [{"id": 20, "transitionId": 1, "name": "Set In Approval Step 0", "label": null, "initialState": 1, "finalState": 3, "source": 1, "target": 12, "conditions": [], "callbacks": []}, {"id": 21, "transition_id": 4, "approval_transition_id": 2, "name": "Approve-1-3cb87c8d3b7ed4d11941dc31cd0ae0831", "label": "Approve", "initialState": 3, "finalState": 2, "source": 12, "target": 2, "approvalConditions": [{"id": 1, "type": "and", "functions": [], "sub_conditions": [{"id": 2, "type": "function", "functions": [{"module": "simple_approval.conditions", "name": "is_approver", "parameters": [{"id": 1, "name": "user_ids", "value": "[1, 2]", "function": 1, "workflow": 1}, {"id": 2, "name": "roles", "value": "[]", "function": 1, "workflow": 1}]}], "sub_conditions": []}, {"id": 3, "type": "function", "functions": [{"module": "simple_approval.conditions", "name": "is_not_approved", "parameters": []}], "sub_conditions": []}]}], "approvalCallbacks": [{"module": "simple_approval.callbacks", "name": "on_approval", "parameters": [{"id": 1, "name": "variable_name", "value": "Approval Step 0 0"}]}], "conditions": [{"id": 7, "type": "function", "functions": [{"module": "simple_approval.conditions", "name": "all_approvals_collected", "parameters": []}], "sub_conditions": []}], "callbacks": []}, {"id": 22, "transitionId": 5, "name": "Set In Approval Step 1", "label": null, "initialState": 2, "finalState": 5, "source": 2, "target": 13, "conditions": [], "callbacks": []}, {"id": 23, "transition_id": 8, "approval_transition_id": 6, "name": "Approve-1-5845d55a2dd7843fbab4b8753792ecbbc", "label": "Approve", "initialState": 5, "finalState": 4, "source": 13, "target": 4, "approvalConditions": [{"id": 8, "type": "and", "functions": [], "sub_conditions": [{"id": 9, "type": "function", "functions": [{"module": "simple_approval.conditions", "name": "is_approver", "parameters": [{"id": 5, "name": "user_ids", "value": "[1, 2]", "function": 6, "workflow": 1}, {"id": 6, "name": "roles", "value": "[]", "function": 6, "workflow": 1}]}], "sub_conditions": []}, {"id": 10, "type": "function", "functions": [{"module": "simple_approval.conditions", "name": "is_not_approved", "parameters": []}], "sub_conditions": []}]}], "approvalCallbacks": [{"module": "simple_approval.callbacks", "name": "on_approval", "parameters": [{"id": 2, "name": "variable_name", "value": "Approval Step 1 0"}]}], "conditions": [{"id": 14, "type": "function", "functions": [{"module": "simple_approval.conditions", "name": "all_approvals_collected", "parameters": []}], "sub_conditions": []}], "callbacks": []}, {"id": 24, "transitionId": 9, "name": "Set In Approval Step 2", "label": null, "initialState": 4, "finalState": 7, "source": 4, "target": 14, "conditions": [], "callbacks": []}, {"id": 25, "transition_id": 12, "approval_transition_id": 10, "name": "Approve-1-746a3a7eac3e043b7ba5f16260f579f13", "label": "Approve", "initialState": 7, "finalState": 6, "source": 14, "target": 6, "approvalConditions": [{"id": 15, "type": "and", "functions": [], "sub_conditions": [{"id": 16, "type": "function", "functions": [{"module": "simple_approval.conditions", "name": "is_approver", "parameters": [{"id": 9, "name": "user_ids", "value": "[1, 2]", "function": 11, "workflow": 1}, {"id": 10, "name": "roles", "value": "[]", "function": 11, "workflow": 1}]}], "sub_conditions": []}, {"id": 17, "type": "function", "functions": [{"module": "simple_approval.conditions", "name": "is_not_approved", "parameters": []}], "sub_conditions": []}]}], "approvalCallbacks": [{"module": "simple_approval.callbacks", "name": "on_approval", "parameters": [{"id": 3, "name": "variable_name", "value": "Approval Step 2 0"}]}], "conditions": [{"id": 21, "type": "function", "functions": [{"module": "simple_approval.conditions", "name": "all_approvals_collected", "parameters": []}], "sub_conditions": []}], "callbacks": []}, {"id": 26, "transitionId": 13, "name": "Archive", "label": null, "initialState": 6, "finalState": 8, "source": 6, "target": 8, "conditions": [], "callbacks": []}]}',
                        'id': 'QXBwcm92YWxXb3JrZmxvd05vZGU6MQ==',
                        'name': 'Test_Workflow'
                    }
                }
            ]
        }
    }
}
